!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n)}:e(window.jQuery)}(function(e){e.FE.PLUGINS.quote=function(t){function n(e){for(;e.parentNode&&e.parentNode!=t.el;)e=e.parentNode;return e}function o(){var o,r=t.selection.blocks();for(o=0;o<r.length;o++)r[o]=n(r[o]);t.selection.save();var i=e("<blockquote>");for(i.insertBefore(r[0]),o=0;o<r.length;o++)i.append(r[o]);t.html.unwrap(),t.selection.restore()}function r(){var n,o=t.selection.blocks();for(n=0;n<o.length;n++)"BLOCKQUOTE"!=o[n].tagName&&(o[n]=e(o[n]).parentsUntil(t.$el,"BLOCKQUOTE").get(0));for(t.selection.save(),n=0;n<o.length;n++)o[n]&&e(o[n]).replaceWith(o[n].innerHTML);t.html.unwrap(),t.selection.restore()}function i(e){t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),"increase"==e?o():"decrease"==e&&r()}return{apply:i}},e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","increase","'"),e.FE.RegisterShortcut(e.FE.KEYCODE.SINGLE_QUOTE,"quote","decrease","'",!0),e.FE.RegisterCommand("quote",{title:"Quote",type:"dropdown",options:{increase:"Increase",decrease:"Decrease"},callback:function(e,t){this.quote.apply(t)},plugin:"quote"}),e.FE.DefineIcon("quote",{NAME:"quote-left"})});