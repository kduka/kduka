<% if !@setup.blank? %>
    <div class="alert alert-info">

      <br>
      <strong>

        <% @setup.each do |k,m| %>
            <H3><%= "#{k}. " %><%= m.html_safe %></H3>
        <% end %>
      </strong>
    </div>
<% end %>
<div class="skil col-md-12">
<div class="content-top-1 col-md-4">
  <div class="col-md-6 top-content">
    <h5>Total Products</h5>
    <label>89</label>
  </div>
  <div class="col-md-6 top-content1">
    <div id="demo-pie-1" class="pie-title-center" data-percent="100"> <span class="pie-value">100%</span> </div>
  </div>
    <div class="clearfix"> </div>
</div>
<div class="content-top-1 col-md-4">
  <div class="col-md-6 top-content">
    <h5>Total Store Sales</h5>
    <label>18</label>
  </div>
  <div class="col-md-6 top-content1">
    <div id="demo-pie-2" class="pie-title-center" data-percent="20"> <span class="pie-value">20%</span> </div>
  </div>
   <div class="clearfix"> </div>
</div>
<div class="content-top-1 col-md-4">
  <a href="<%= users_stores_path %>">
  <div class="col-md-6 top-content">
    <h5>Active Stores</h5>
    <label>5</label>
  </div>
  <div class="col-md-6 top-content1">
    <div id="demo-pie-3" class="pie-title-center" data-percent="100"> <span class="pie-value">100%</span> </div>
  </div>
  <div class="clearfix"> </div>
</a>
</div>
</div>

<div class="clearfix"></div>
<div class="area" style="margin-top:2em">
<div class="col-md-12 chrt-two area">
<h3 class="sub-tittle" style="text-align:center">Product Sales and Views</h3>
  <div class="area">
    <canvas id="canvas" style="width:100%;height:100%"></canvas>
  </div>
    <button id="randomizeData">Randomize Data</button>
        <script>
            var randomScalingFactor = function() {
            return Math.round(Math.random() * 100 * (Math.random() > 0.5 ? 1 : 1));
              };
            var randomColor = function(opacity) {
            return 'rgba(63,191,191,0.4)';
              };

            var lineChartData = {
              labels: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
              datasets: [
                {
                    label: "Product Sales",
                    data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()],
                    yAxisID: "y-axis-1",
                },
                {
                    label: "Product Views",
                    data: [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()],
                      yAxisID: "y-axis-2"
                      }]
                    };

                    $.each(lineChartData.datasets, function(i, dataset) {
                      dataset.borderColor = randomColor(0.4);
                      dataset.backgroundColor = randomColor(1);
                      dataset.pointBorderColor = randomColor(0.7);
                      dataset.pointBackgroundColor = randomColor(0.5);
                      dataset.pointBorderWidth = 1;
                    });

                    console.log(lineChartData);

                    window.onload = function() {
                      var ctx = document.getElementById("canvas").getContext("2d");
                      window.myLine = Chart.Line(ctx, {
                        data: lineChartData,
                        options: {

                          hoverMode: 'label',
                          stacked: false,
                          scales: {
                            xAxes: [{
                              display: true,
                              gridLines: {
                                offsetGridLines: false
                              }
                            }],
                            yAxes: [{
                              type: "linear", // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
                              display: true,
                              position: "left",
                              id: "y-axis-1",
                            }, {
                              type: "linear", // only linear but allow scale type registration. This allows extensions to exist solely for log scale for instance
                              display: true,
                              position: "right",
                              id: "y-axis-2",

                              // grid line settings
                              gridLines: {
                                drawOnChartArea: false, // only want the grid lines for one axis to show up
                              },
                            }],
                          }
                        }
                      });
                    };

                    $('#randomizeData').click(function() {
                      lineChartData.datasets[0].data = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];

                      lineChartData.datasets[1].data = [randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor(), randomScalingFactor()];

                      window.myLine.update();
                    });
        </script>
          <script src="js/Chart.js"></script>
</div>
<div class="clearfix"></div>
</div>